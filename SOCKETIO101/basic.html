<!-- cdn code is injecting io into window obj -->
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.js"
  integrity="sha256-bQmrZe4yPnQrLTY+1gYylfNMBuGfnT/HKsCGX+9Xuqo="
  crossorigin="anonymous"
></script>

<script>
  const socket = io("http://localhost:8000"); // io is coming from the cdn in above script tag.
  // const ws = new WebSocket('ws://localhost:8000');

  console.log(socket);

  // ws.open = (event) => {
  socket.on("connect", data => {
    socket.on("welcome", message => {
      console.log(message);
    });
  });

  socket.emit("message", {
    data: "I am so excited I am connected! It is like Christmas!"
  });

  //ws.send('I am so excited I am connected! It is like Christmas!')

  // ws.onmessage = (event) => {  <--- no longer need this, is handled with above socket.on('welcome', cb)
  // console.log(event)
  //}
  //}
</script>
